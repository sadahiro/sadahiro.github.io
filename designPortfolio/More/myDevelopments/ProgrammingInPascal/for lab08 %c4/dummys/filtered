My name is : makoto sadahiro
File read from is : ATHOROPOSS:Development:Projects:for lab8.1 Ÿ:dummys:AutoReader.PAS
File written is : ATHOROPOSS:Development:Projects:for lab8.1 Ÿ:dummys:filtered

1{PROGRAMMER:	MAKOTO SADAHIRO }
2{CLASS:	CIS-111 COMPUTER PROGRAMMING IN PASCAL			SECTION -03}
3
4{LAB NUMBER:		-08					DUE DATE:	FRIDAY APRIL 9TH '93}
5
6{PURPOSE:		READ SOURCE PROGRAM AND REWRITE ANOTHER FILE WITH SOME MODIFICATION EXECUTION}
7
8{INPUT :	FNAMEIN, FNAMEOUT:STRING;	UNAME:STRING;}
9
10{OUTPUTS :	FILEOUT:TEXT}
11
12{COMMENT:	SINCE MAC AND IBM IS SO DIFFERENT, I COULDNT USE SOME OF FUNCTIONS FOR IBM. }
13{			I USED FUNCTIONS WHICH DOES SIMILAR TO IBM'S, BUT I SOMETIMES HAD TO CHOSE ONE }
14{					WHICH IS SO DIFFERENT . }
15{			THERE WAS NOTHING FOR ME TO DO FOR RIGHT NOW.  MY KNOWLEDGE FOR MAC IS STILL SO POOR........}
16
17
18
19PROGRAM AUTOREADER (INPUT, OUTPUT, DATAFILE);
20	USES
21		XTENSION, IOPIROTS;{LIST UNITS HERE}
22	VAR
23		FNAMEIN, FNAMEOUT: STR255;
24		FILEIN, FILEOUT: TEXT;
25
26
27
28	PROCEDURE HEADER (VAR FILEOUT: TEXT;
29									FNAMEIN, FNAMEOUT: STR255);
30		VAR
31			UNAME: STR255;
32	BEGIN
33		WRITELN('TYPE IN USER'' S NAME ');
34		READLN(UNAME);
35		WRITELN(FILEOUT, 'MY NAME IS : ', UNAME);
36		WRITELN(FILEOUT, 'FILE READ FROM IS : ', FNAMEIN);
37		WRITELN(FILEOUT, 'FILE WRITTEN IS : ', FNAMEOUT);
38		WRITELN(FILEOUT)
39	END;				{END OF HEADER}
40
41	PROCEDURE CONCLUSION (VAR FILEIN, FILEOUT: TEXT;
42									LINECOUNTER, ELINECOUNTER: INTEGER;
43									LSTWORD: STR255;
44									LSTNUM: INTEGER);
45	BEGIN
46		WRITELN(FILEOUT);
47		WRITELN(FILEOUT);
48		WRITELN(FILEOUT);
49		WRITELN(FILEOUT, 'TOTAL LINE :', LINECOUNTER);
50		WRITELN(FILEOUT, 'TOTAL NON-EMPTY LINE :', LINECOUNTER - ELINECOUNTER);
51		WRITELN(FILEOUT, 'LONGEST WORD :', LSTWORD, '  ', LSTNUM, ' CHARACTORS');
52	END;				{END OF CONCLUSION}
53
54	PROCEDURE PRINTFILE (VAR FNAMEOUT: STR255);
55		VAR
56			PF: TEXT;
57			LINE: STR255;
58	BEGIN
59		RESET(PF, FNAMEOUT);
60		WHILE NOT EOF(PF) DO
61			BEGIN
62				READLN(PF, LINE);
63				WRITELN(LINE)
64			END;
65		CLOSE(PF)
66	END;				{END OF PRINTFILE}
67
68	PROCEDURE EXECUTION (VAR FILEIN, FILEOUT: TEXT;
69									FNAMEIN, FNAMEOUT: STR255);
70		VAR
71			LINE, UNLINE: STR255;
72			LINELENGTH: INTEGER;
73			MOJILOOP: INTEGER;
74			UNAME: STR255;
75			MOJI: CHAR;
76			WORD: STR255;
77			NWORD: INTEGER;
78			LSTWORD: STR255;
79			LSTNUM: INTEGER;
80			LINECOUNTER, ELINECOUNTER: INTEGER;
81	BEGIN
82{RECEIVE BOTH FILES}
83		LINECOUNTER := 1;				{INITIALIZING LINECOUNTER}
84		ELINECOUNTER := 0;				{INITIALIZING EMPTYLINECOUNTER}
85		LSTNUM := 0;				{INITIALIZING THE LARGEST NUMBER}
86		NWORD := 0;				{INITIALIZING NWORD TO BE SENT TO XTENSION: LONGEST}
87		WHILE NOT EOF(FILEIN) DO
88			BEGIN
89				READLN(FILEIN, LINE);				{READ LINES FROM FILEIN}
90				WORD := '';				{INITIALIZING AS ' ' }
91				UNLINE := '';				{INITIALIZING AS ' ' }
92				LINELENGTH := LENGTH(LINE);				{SEE HOW LONG THE LINE IS: FOR FOR LOOP}
93				FOR MOJILOOP := 1 TO LINELENGTH DO
94					BEGIN
95						MOJI := LINE[MOJILOOP];
96						CHARPITALIZE(MOJI);				{XTENSION: CAPITALIZE CHARACTORS}
97						LONGWORD(LSTWORD, LSTNUM, MOJI, NWORD, WORD);				{XTENSION: FIND WHAT THE LONGEST WORD IS}
98						UNLINE := CONCAT(UNLINE, MOJI);				{PUT MOJI INTO UNLINE TOGETHER AGAIN}
99					END;
100				LINE := UNLINE;								{AND PUT THE THING INTO LINE AGAIN}
101				WRITE(FILEOUT, LINECOUNTER : 0);
102				WRITELN(FILEOUT, LINE);				{WRITE LINES TO FILEOUT}
103				LINECOUNTER := LINECOUNTER + 1;
104				IF LINELENGTH = 0 THEN
105					ELINECOUNTER := ELINECOUNTER + 1
106			END;
107		LINECOUNTER := LINECOUNTER - 1;
108		CONCLUSION(FILEIN, FILEOUT, LINECOUNTER, ELINECOUNTER, LSTWORD, LSTNUM);
109	END;				{END OF EXECUTION}
110
111
112
113{******** MAIN PROGRAM ********}
114BEGIN
115	OPENFILEIN(FILEIN, FNAMEIN);				{OPEN UP FILE TO BE READ}
116	OPENFILEOUT(FILEOUT, FNAMEOUT);				{OPEN UP FILE TO BE WRITTEN}
117	HEADER(FILEOUT, FNAMEIN, FNAMEOUT);				{PRINTING HEADER}
118	EXECUTION(FILEIN, FILEOUT, FNAMEIN, FNAMEOUT);			{PROCESS PART}
119	CLOSEFILE(FILEIN);						{CLOSES FILE READ}
120	CLOSEFILE(FILEOUT);						{CLOSES FILE WRITTEN}
121	PRINTFILE(FNAMEOUT)				{PRINTS SAVED FILE}
122END.				{END OF MAIN PROGRAM}



Total Line :     122
Total non-Empty Line :     105
Longest Word :EMPTYLINECOUNTER        16 charactors
